// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/ThreatAnalysis/templates/ThreatAnalysisSettings.html":'\x3cdiv\x3e\r\n    \x3c!-- Mandatory Evacuation Distance DropDown --\x3e\r\n    \x3cdiv class\x3d"SettingsRow"\x3e\r\n      \x3cdiv class\x3d"LabelSettingsRightButton SettingsButtonIcon Pointer" title\x3d"${nls.mandatoryButtonLabel}" data-dojo-attach-point\x3d"mandatorySettingsButton"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"InputLabelSettings Ellipsis SubTitle" title\x3d"${nls.mandatoryLabel}"\x3e${nls.mandatoryLabel}\x3c/div\x3e      \r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Mandatory Evacuation Distance Color Pickers --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"mandatoryContainer"\x3e      \r\n      \x3cdiv class\x3d"Ellipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"mandatoryOutlineColor" data-dojo-attach-point\x3d"mandatoryOutlineColorPicker"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"Ellipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"mandatoryFillColor" data-dojo-attach-point\x3d"mandatoryFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Safe Evacuation Distance DropDown --\x3e\r\n    \x3cdiv class\x3d"SettingsRow"\x3e\r\n      \x3cdiv class\x3d"LabelSettingsRightButton SettingsButtonIcon Pointer" title\x3d"${nls.safeButtonLabel}" data-dojo-attach-point\x3d"safeSettingsButton"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"InputLabelSettings Ellipsis SubTitle" title\x3d"${nls.safeLabel}"\x3e${nls.safeLabel}\x3c/div\x3e      \r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Safe Evacuation Distance --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"safeContainer"\x3e\r\n      \x3cdiv class\x3d"Ellipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"safeOutlineColor" data-dojo-attach-point\x3d"safeOutlineColorPicker"\x3e\x3c/div\x3e \r\n      \x3cdiv class\x3d"Ellipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"safeFillColor" data-dojo-attach-point\x3d"safeFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/on ./ColorPickerEditor jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!../templates/ThreatAnalysisSettings.html dojo/_base/lang dojo/Evented dojo/dom-class dojo/query dijit/registry dijit/form/Select jimu/dijit/SymbolChooser".split(" "),function(l,e,d,f,m,n,p,q,b,r,g,h,c){return l([n,p,r],{baseClass:"jimu-widget-threatAnalysisSetting",templateString:q,selectedSettings:{},colorPickerNodes:[],constructor:function(a){b.mixin(this,
a)},startup:function(){this.colorPickerNodes=h(".colorPicker",this.domNode);e.forEach(this.colorPickerNodes,b.hitch(this,function(a,c){a=new m({nls:this.nls,type:g.contains(a,"Line")?"line":"fill"},a);this.own(a.on("ColorPickerEditorChanged",b.hitch(this,function(){this.onSettingsChanged()})));a.setValues({color:this.config.threatAnalysis.symbology[a.id].color,transparency:this.config.threatAnalysis.symbology[a.id].transparency});a.startup();a.dropdown.set("value",this.config.threatAnalysis.symbology[a.id].type)}));
this.onSettingsChanged()},postCreate:function(){this.inherited(arguments);g.add(this.domNode,"SettingsContainer FullWidth");this._handleClickEvents()},_handleClickEvents:function(){this.own(f(this.mandatorySettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.mandatorySettingsButton,this.mandatoryContainer)})));this.own(f(this.safeSettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.safeSettingsButton,this.safeContainer)})))},validInputs:function(){var a=!0;
e.some(this.colorPickerNodes,function(b){if(!c.byId(b.id).validateSpinner())return a=!1,!0},this);return a},_openCloseNodes:function(a,c){var f=h(".container",this.domNode),t=h(".SettingsButtonIcon",this.domNode),k=!1;this.validInputs()&&(a&&g.contains(a,"LabelSettingsRightButton")&&(k=!0),e.forEach(f,b.hitch(this,function(a){d.addClass(a,"controlGroupHidden")})),e.forEach(t,b.hitch(this,function(a){d.removeClass(a,"LabelSettingsDownButton");d.addClass(a,"LabelSettingsRightButton")})),k&&(d.removeClass(c,
"controlGroupHidden"),d.removeClass(a,"LabelSettingsRightButton"),d.addClass(a,"LabelSettingsDownButton")))},onClose:function(){this.onSettingsChanged();this._openCloseNodes()},onSettingsChanged:function(){e.forEach(this.colorPickerNodes,b.hitch(this,function(a,b){b={color:void 0!==c.byId(a.id)?c.byId(a.id).getValues().color:this.config.threatAnalysis.symbology[a.id].color,transparency:void 0!==c.byId(a.id)?c.byId(a.id).getValues().transparency:this.config.threatAnalysis.symbology[a.id].transparency,
type:void 0!==c.byId(a.id)?c.byId(a.id).dropdown.getValue():this.config.threatAnalysis.symbology[a.id].type};this.selectedSettings[a.id]=b}));this.emit("ThreatSettingsChanged",this.selectedSettings)}})});