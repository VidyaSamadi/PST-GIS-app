// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/lang dojo/on dojo/query dojo/aspect dojo/_base/array dojo/_base/html jimu/utils dojo/keys".split(" "),function(c,l,d,g,f,b,e,h){return{a11y_init:function(){b.setAttr(this.domNode,"aria-label",this.nls._widgetLabel)},a11y_updateFocusNodes:function(k){if(this._dijitDirections&&this._dijitDirections._widgetContainer){var a=d(".esriResultsSummary",this._dijitDirections._resultsNode);a&&a[0]&&(b.setAttr(a[0],"tabindex","0"),b.setAttr(a[0],"role","document"));a=d("input",this._dijitDirections._widgetContainer);
f.some(a,c.hitch(this,function(a){if(e.isDomFocusable(a))return e.initFirstFocusNode(this.domNode,a),k&&k.isFouceToFirstNode&&a.focus(),!0}));"none"===b.getStyle(this._dijitDirections._savePrintBtnContainer,"display")?e.initLastFocusNode(this.domNode,this._dijitDirections._clearDirectionsButtonNode):(a=null,(a=d(".esriPrintFooter",this._dijitDirections._resultsNode))&&a[0]?(b.setAttr(a[0],"tabindex","0"),a=a[0]):(a=d('[tabindex $\x3d"0"]',this._dijitDirections._resultsNode),a=a[a.length-1]),e.initLastFocusNode(this.domNode,
a));(a=d("[data-blur-on-click]",this._dijitDirections.domNode))&&!1===b.hasClass(this._dijitDirections.domNode,"WAB-508")&&(f.forEach(a,c.hitch(this,function(a){this.own(l(a,"keydown",c.hitch(this,function(a){a.keyCode!==h.ENTER&&a.keyCode!==h.SPACE||this._delayFocus(a.target)})))})),this.own(g.after(this._dijitDirections._travelModeSelector,"openDropDown",c.hitch(this,function(){var a=d(".dijitMenuItem",this._dijitDirections._travelModeSelector.dropDown.domNode);f.forEach(a,c.hitch(this,function(a){b.removeAttr(a,
"aria-label")}))}),this)),b.addClass(this._dijitDirections.domNode,"WAB-508"))}},a11y_initEvents:function(){this._dijitDirections&&this._dijitDirections._clearResultsHTML&&this.own(g.after(this._dijitDirections,"_clearResultsHTML",c.hitch(this,this.a11y_updateFocusNodes),this))},a11y_focusWhenFinish:function(){var b=d(".esriResultsSummary",this._dijitDirections._resultsNode);b&&b[0]&&this._delayFocus(b[0])},_delayFocus:function(b){setTimeout(c.hitch(this,function(){b.focus()}),80)}}});