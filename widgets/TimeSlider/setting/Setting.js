// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/TimeSlider/setting/ConfigureTimeSettings":function(){define("dojo/Evented dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/text!./ConfigureTimeSettings.html ./LayersConfig ./TimeConfig jimu/dijit/CheckBox dijit/form/Select dijit/form/ValidationTextBox".split(" "),function(m,n,h,f,l,k,p,g,e,a){return n([f,l,k,m],{templateString:g,startup:function(){var d=this.config;this.layersConfig=new e({nls:this.nls,map:this.map,
config:d,parent:this},this.layersConfigContainer);this.own(p(this.layersConfig,"change",h.hitch(this,function(a){null!==a&&this.timeConfig.updateConfigByLyaers({startTime:{timeConfig:{time:a.timeExtent.startTime}},endTime:{timeConfig:{time:a.timeExtent.endTime}}})})));this.own(p.once(this.layersConfig,"initTimeExtent",h.hitch(this,function(b){this.timeConfig=new a({nls:this.nls,map:this.map,config:d,parent:this},this.timeConfigContainer);this.timeConfig.startup();d.customTimeConfig&&this.timeConfig.setConfig(d.customTimeConfig);
var c=!1;null===b&&(c=!0);this.emit("initedLayers",{isNoLayer:c})})));this.layersConfig.startup();d.customLayersConfig&&this.layersConfig.setConfig(d.customLayersConfig);this.inherited(arguments)},getLayersTimeExtent:function(){return this.layersConfig.getFullTimeExtent()},setConfig:function(a){a.customTimeConfig&&this.timeConfig.setConfig(a.customTimeConfig);a.customLayersConfig&&this.layersConfig.setConfig(a.customLayersConfig)},getConfig:function(a){a.customLayersConfig=null;a.customTimeConfig=
null;var b={};b.customLayersConfig=this.layersConfig.getConfig();b.customTimeConfig=this.timeConfig.getConfig();a=h.mixin(a,b);a.customTimeConfig.startTime.timeConfig.time&&(a.customTimeConfig.startTime.timeConfig.time=(new Date(a.customTimeConfig.startTime.timeConfig.time)).getTime());a.customTimeConfig.endTime.timeConfig.time&&(a.customTimeConfig.endTime.timeConfig.time=(new Date(a.customTimeConfig.endTime.timeConfig.time)).getTime());return a},isValid:function(){return this.timeConfig.isValid()&&
this.layersConfig.isValid()?!0:!1}})})},"widgets/TimeSlider/setting/LayersConfig":function(){define("dojo/Evented dojo/_base/declare dojo/_base/lang esri/lang dojo/_base/html dojo/_base/array dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/text!./LayersConfig.html jimu/LayerInfos/LayerInfos ../utils jimu/utils jimu/dijit/CheckBox".split(" "),function(m,n,h,f,l,k,p,g,e,a,d,b,c,q,t){return n([p,g,e,m],{templateString:d,layersCheckboxes:[],startup:function(){this.layersCheckboxes=
[];b.getInstance(this.map,this.map.itemInfo).then(h.hitch(this,function(a){this._layerInfosObj=a;a=this._layerInfosObj.getLayerInfoArray();k.forEach(a,h.hitch(this,function(a){f.isDefined(a.layerObject.timeInfo)&&f.isDefined(a.layerObject.timeInfo.timeExtent)&&this.addARow(a)}));this.emit("initTimeExtent",this.getFullTimeExtent());this.emit("initedLaysers",this.getFullTimeExtent());170<=50*a.length?l.setStyle(this.layersContainer,"overflow-y","auto"):l.setStyle(this.layersContainer,"overflow-y","hidden")}));
this.inherited(arguments)},_creatTableRow:function(a,c,b){a=l.create("div",{"class":"row"},a);c=l.create("div",{"class":"layer-name",innerHTML:c||""},a);b=l.create("div",{"class":"time-info",innerHTML:b||""},a);return{layerNameDom:c,timeInfoDom:b}},addARow:function(c){var b=this._creatTableRow(this.layersContainer),d=new t({label:c.id,_layerId:c.id,checked:!0},b.layerNameDom);this.own(a(d,"change",h.hitch(this,function(){this.emit("change",this.getFullTimeExtent())})));if(c.layerObject.timeInfo&&
f.isDefined(c.layerObject.timeInfo.timeExtent)){var e=q.localizeDate(c.layerObject.timeInfo.timeExtent.startTime),g=q.localizeDate(c.layerObject.timeInfo.timeExtent.endTime);l.setAttr(b.timeInfoDom,"innerHTML",e+"   "+this.nls.timeTo+"   "+g);d.timeExtent=c.layerObject.timeInfo.timeExtent}this.layersCheckboxes.push(d);return b},getFullTimeExtent:function(){if(0===this.layersCheckboxes.length)return null;var a=[];k.forEach(this.layersCheckboxes,h.hitch(this,function(c){c.timeExtent&&!0===c.getValue()&&
a.push(c.timeExtent)}));var b;if(0<a.length)b=c.getFullTimeExtent(a,!0);else return null;return{timeExtent:b}},setConfig:function(a){a&&k.forEach(this.layersCheckboxes,h.hitch(this,function(c){k.forEach(a,h.hitch(this,function(a){c._layerId===a.id&&(!0===a.isTimeEnable?c.setValue(!0):c.setValue(!1))}))}))},getConfig:function(){var a=[];k.forEach(this.layersCheckboxes,h.hitch(this,function(c){a.push({id:c._layerId,isTimeEnable:c.checked})}));return a},isValid:function(){return!0}})})},"widgets/TimeSlider/utils":function(){define("dojo/_base/html dojo/dom-geometry dojo/_base/array esri/layers/TimeInfo jimu/utils esri/TimeExtent libs/storejs/store moment/moment".split(" "),
function(m,n,h,f,l,k,p,g){var e={};e.intervalUnitOptions=[{label:window.jimuNls.timeUnit.year,value:f.UNIT_YEARS},{label:window.jimuNls.timeUnit.month,value:f.UNIT_MONTHS},{label:window.jimuNls.timeUnit.week,value:f.UNIT_WEEKS},{label:window.jimuNls.timeUnit.day,value:f.UNIT_DAYS},{label:window.jimuNls.timeUnit.hour,value:f.UNIT_HOURS},{label:window.jimuNls.timeUnit.minute,value:f.UNIT_MINUTES},{label:window.jimuNls.timeUnit.second,value:f.UNIT_SECONDS},{label:window.jimuNls.timeUnit.milliSecond,
value:f.UNIT_MILLISECONDS}];e.isLayerEnabledTime=function(a,d,b){b||(b=d.getLayerInfoById(a.id));if(b)return a=b.layerObject,a=a.timeInfo&&a.timeInfo.timeExtent,d=!0,b=b.originOperLayer,b.itemProperties&&"undefined"!==typeof b.itemProperties.timeAnimation&&(d=!1),!1===b.timeAnimation&&(d=!1),!0===b.timeAnimation&&(d=!0),b.itemProperties&&"undefined"!==typeof b.itemProperties.timeAnimation&&"undefined"!==typeof b.timeAnimation&&(d=!0),!(!d||!a)};e.setLayersUseMapTimebyConfig=function(a,d){d=d.customLayersConfig;
a=a.getLayerInfoArray();for(var b=0,c=d.length;b<c;b++)for(var q=d[b],e=0,f=a.length;e<f;e++){var r=a[e];q.id===r.id&&r.layerObject.setUseMapTime&&(!0===q.isTimeEnable?r.layerObject.setUseMapTime(!0):r.layerObject.setUseMapTime(!1))}};e.initPositionForTheme={DartTheme:{bottom:140},LaunchpadTheme:{bottom:120}};e.isRunInMobile=function(){return window.appInfo.isRunInMobile};e.isOutOfScreen=function(a,d){var b=n.getMarginBox(a.root);a=b.w;b=b.h;return d&&(d.top>=b||d.left>=a)?!0:!1};e._MINIMODE_HEIGHT=
35;e.getMarginPosition=function(a,d,b){var c=n.getMarginBox(a.root);a=c.w;c=c.h;d=m.getContentBox(d);b.marginPosition={right:a-(d.w+b.left),bottom:c-(e._MINIMODE_HEIGHT+b.top)}};e.setMarginPosition=function(a,d,b){if(b.marginPosition){var c=n.getMarginBox(a.root);a=c.w;var c=c.h,q=m.getContentBox(d);b.top=c-(e._MINIMODE_HEIGHT+b.marginPosition.bottom);b.left=a-(q.w+b.marginPosition.right);0>b.top&&(b.top=0);0>b.left&&(b.left=0)}m.setStyle(d,"top",b.top+"px");m.setStyle(d,"left",b.left+"px")};e.initPosition=
function(a,d,b){var c=window.getAppConfig(),q;c&&c.theme&&c.theme.name&&(q=c.theme.name);c=e.getInitTop(a,q);a=e.getInitLeft(a,d);b.top=c;b.left=a;m.setStyle(d,"top",b.top+"px");m.setStyle(d,"left",b.left+"px")};e.getInitTop=function(a,d){var b=0;return b=n.getMarginBox(a.root).h-(e.initPositionForTheme[d]?e.initPositionForTheme[d].bottom:60)-e._MINIMODE_HEIGHT};e.getInitLeft=function(a,d){a=n.getMarginBox(a.root);d=m.getContentBox(d);return a.w/2-d.w/2};e.isValidDate=function(a){return a instanceof
Date&&!isNaN(a.getTime())};e.isValidDataStrByDateLocale=function(a){return"undefined NaN, NaN"===a?!1:!0};e.hasLiveData=function(a){return!!(a&&a.useMapTime&&a.timeInfo&&a.timeInfo.hasLiveData)};e.getCalendarTime=function(a,d){var b;if("time"===a.timeMode||"min"===a.timeMode||"max"===a.timeMode)b=new Date(a.time);else if("now"===a.timeMode||"today"===a.timeMode)if(b=d?new Date(d):new Date,b="today"===a.timeMode?new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0):b,a=a.calender,d="",a&&a.number&&
a.operator&&a.unit){var c=a.unit;if(-1!==c.indexOf("esriTimeUnits"))(c=c.split("esriTimeUnits"))&&2===c.length&&(d=c[1]);else return console.log("unsupported unit:"+a.unit),new Date(b);"+"===a.operator?b=g(b).add(a.number,d).valueOf():"-"===a.operator&&(b=g(b).subtract(a.number,d).valueOf())}return new Date(b)};e.isConfigLiveMode=function(a){var d=!1,b=!1,c=!1===a.isHonorWebMap;a&&a.customTimeConfig&&a.customTimeConfig.startTime&&a.customTimeConfig.startTime.timeConfig&&a.customTimeConfig.startTime.timeConfig.timeMode&&
(d=e.isLiveTimeMode(a.customTimeConfig.startTime.timeConfig.timeMode));a&&a.customTimeConfig&&a.customTimeConfig.endTime&&a.customTimeConfig.endTime.timeConfig&&a.customTimeConfig.endTime.timeConfig.timeMode&&(b=e.isLiveTimeMode(a.customTimeConfig.endTime.timeConfig.timeMode));return c&&(d||b)};e.isLiveTimeMode=function(a){return!a||"now"!==a&&"today"!==a&&"max"!==a&&"min"!==a?!1:!0};e.timeCalendarForBuilderConfig=function(a){if(!1===a.isHonorWebMap){var d,b;b=new Date;d=e.getCalendarTime(a.customTimeConfig.startTime.timeConfig,
b);b=e.getCalendarTime(a.customTimeConfig.endTime.timeConfig,b);return{startTime:d,endTime:b,interval:null!==a.customTimeConfig.interval?a.customTimeConfig.interval:null,thumbCount:!0===a.customTimeConfig.displayAllData?1:2}}return null};e.getFullTimeExtent=function(a,d){var b=null;h.forEach(a,function(a){a&&(b?(b.startTime>a.startTime&&(b.startTime=new Date(a.startTime.getTime())),b.endTime<a.endTime&&(b.endTime=new Date(a.endTime.getTime()))):b=new k(new Date(a.startTime.getTime()),new Date(a.endTime.getTime())))});
a=1;!0===d&&(a=0);b.startTime=new Date(b.startTime.getFullYear(),b.startTime.getMonth(),b.startTime.getDate(),b.startTime.getHours(),b.startTime.getMinutes(),0,0);b.endTime=new Date(b.endTime.getFullYear(),b.endTime.getMonth(),b.endTime.getDate(),b.endTime.getHours(),b.endTime.getMinutes()+a,0,0);return b};e.getAutoRefreshTime=function(a){var d=0,b="";if(a&&a.autoRefresh&&!0===a.autoRefresh.isAutoRefresh&&a.autoRefresh.interval&&a.autoRefresh.unit){var c=a.autoRefresh.unit;-1!==c.indexOf("esriTimeUnits")&&
(c=c.split("esriTimeUnits"))&&2===c.length&&(b=c[1]);b=b.toUpperCase();"SECONDS"===b?d=a.autoRefresh.interval:"MINUTES"===b?d=60*a.autoRefresh.interval:"HOURS"===b?d=3600*a.autoRefresh.interval:"DAYS"===b&&(d=86400*a.autoRefresh.interval)}return 1E3*d};e.getKey=function(a){return"TimeSlider."+encodeURIComponent(l.getAppIdFromUrl())+"."+a};e.getCacheByKeys=function(a){return p.get(e.getKey(a))};e.saveToLocalCache=function(a,d){e.removeLocalCache(a);p.set(e.getKey(a),d)};e.removeLocalCache=function(a){e.getCacheByKeys(a)&&
p.remove(e.getKey(a))};return e})},"widgets/TimeSlider/setting/TimeConfig":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/on dojo/text!./TimeConfig.html ../utils ./TimeCalendar esri/TimeExtent jimu/dijit/CheckBox dijit/form/Select dijit/form/ValidationTextBox".split(" "),function(m,n,h,f,l,k,p,g,e,a,d,b){return m([f,l],{templateString:p,_KEEP_VALUE_FLAG:!1,postCreate:function(){this.startTimeCalendar=new e({mode:"min",
nls:this.nls,map:this.map,config:this.config,parent:this},this.startTimeCalendar);this.endTimeCalendar=new e({mode:"max",nls:this.nls,map:this.map,config:this.config,parent:this},this.endTimeCalendar);this.own(k(this.startTimeCalendar,"haveloaded,change",n.hitch(this,function(a){this._updateInterval(a.type)})));this.own(k(this.endTimeCalendar,"haveloaded,change",n.hitch(this,function(a){this._updateInterval(a.type)})));this.own(k(this.intervalNumber,"change",n.hitch(this,function(){this._setKeepValueFlag(!0)})));
this.intervalUnits=new b({options:g.intervalUnitOptions,"class":"calendar-inputs"},this.intervalUnits);this.own(k(this.intervalUnits,"change",n.hitch(this,function(){this._setKeepValueFlag(!0)})));this.displayAllTheData=new d({label:this.nls.displayAllData,checked:!1},this.displayAllTheData);this.displayAllTheData.startup();this.startTimeCalendar.startup();this.endTimeCalendar.startup();this.inherited(arguments)},setConfig:function(c){"undefined"!==typeof c.keepValueFlag&&this._setKeepValueFlag(c.keepValueFlag);
"undefined"!==typeof c.startTime&&this.startTimeCalendar.setConfig(c.startTime.timeConfig);"undefined"!==typeof c.endTime&&this.endTimeCalendar.setConfig(c.endTime.timeConfig);if("undefined"!==typeof c.interval)this.intervalNumber.set("value",c.interval.number,!1),this.intervalUnits.set("value",c.interval.units,!1);else{var b=new Date,d=g.getCalendarTime(this.startTimeCalendar.getConfig(),b),b=g.getCalendarTime(this.endTimeCalendar.getConfig(),b);this.findDefaultInterval(new a(d,b))}"undefined"!==
typeof c.displayAllData?this.displayAllTheData.setValue(!!c.displayAllData,!1):this.displayAllTheData.setValue(!1,!1)},updateConfigByLyaers:function(a){"undefined"!==typeof a.startTime&&this.startTimeCalendar.setConfig(a.startTime.timeConfig);"undefined"!==typeof a.endTime&&this.endTimeCalendar.setConfig(a.endTime.timeConfig);this._updateInterval()},_updateInterval:function(b){this._cleanErrorTips();"haveloaded"===b&&(this.intervalNumber.intermediateChanges=!1);if(!1!==this.isValid()&&!this._getKeepValueFlag()){var c=
new Date;b=g.getCalendarTime(this.startTimeCalendar.getConfig(),c);c=g.getCalendarTime(this.endTimeCalendar.getConfig(),c);b=this.findDefaultInterval(new a(new Date(b),new Date(c)));this.intervalNumber.set("value",b.interval,!1);this.intervalUnits.set("value",b.units,!1)}},isValid:function(){var a=new Date,b=g.getCalendarTime(this.startTimeCalendar.getConfig(),a),a=g.getCalendarTime(this.endTimeCalendar.getConfig(),a);if(!g.isValidDate(b))return this.startTimeCalendar.numberSpinner.set("state","Error"),
!1;if(!g.isValidDate(a))return this.endTimeCalendar.numberSpinner.set("state","Error"),!1;if(!this.startTimeCalendar.isValid()||!this.endTimeCalendar.isValid()||!this.intervalNumber.isValid())return!1;var d=h.hasClass(this.timeConfigContainer,"error");if(b.valueOf()>a.valueOf())return d||h.addClass(this.timeConfigContainer,"error"),!1;h.removeClass(this.timeConfigContainer,"error");return!0},_cleanErrorTips:function(){h.removeClass(this.timeConfigContainer,"error")},getConfig:function(){return{keepValueFlag:this._getKeepValueFlag(),
startTime:{timeConfig:this.startTimeCalendar.getConfig()},endTime:{timeConfig:this.endTimeCalendar.getConfig()},interval:{number:this.intervalNumber.getValue(),units:this.intervalUnits.getValue()},displayAllData:this.displayAllTheData.getValue()}},getLayersTimeExtent:function(){return this.parent.getLayersTimeExtent()},_setKeepValueFlag:function(a){this._KEEP_VALUE_FLAG=a},_getKeepValueFlag:function(){return!!this._KEEP_VALUE_FLAG},findDefaultInterval:function(a){var b;a=(a.endTime.getTime()-a.startTime.getTime())/
10;31104E6<a?(a=Math.round(a/31104E6),b="esriTimeUnitsYears"):2592E6<a?(a=Math.round(a/2592E6),b="esriTimeUnitsMonths"):6048E5<a?(a=Math.round(a/6048E5),b="esriTimeUnitsWeeks"):864E5<a?(a=Math.round(a/864E5),b="esriTimeUnitsDays"):36E5<a?(a=Math.round(a/36E5),b="esriTimeUnitsHours"):6E4<a?(a=Math.round(a/6E4),b="esriTimeUnitsMinutes"):1E3<a?(a=Math.round(a/1E3),b="esriTimeUnitsSeconds"):(a=Math.round(a),b="esriTimeUnitsMilliseconds");return{interval:a,units:b}}})})},"widgets/TimeSlider/setting/TimeCalendar":function(){define("dojo/Evented dojo/_base/declare dojo/_base/lang dojo/_base/html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/text!./TimeCalendar.html ../utils dijit/form/DateTextBox dijit/form/TimeTextBox dijit/form/Select dijit/form/NumberSpinner dijit/form/ValidationTextBox jimu/dijit/CheckBox".split(" "),
function(m,n,h,f,l,k,p,g,e,a,d,b,c){return n([m,l,k,p],{templateString:e,_KEEP_VALUE_FLAG:!1,postCreate:function(){this._timeModeOptions=[{label:this.nls.time,value:"time"},{label:this.nls.now,value:"now"},{label:this.nls.today,value:"today"}];var q={label:this.nls.maximum,value:"max"},e={label:this.nls.minimum,value:"min"};"min"===this.mode?this._timeModeOptions.push(e):"max"===this.mode&&this._timeModeOptions.push(q);this._operatorOptions=[{label:"+",value:"+"},{label:"-",value:"-"}];this.modeOptions=
new c({options:this._timeModeOptions,"class":"calendar-inputs"},this.modeSelector);this.own(g(this.modeOptions,"change",h.hitch(this,function(a){this.toggleTimeMode(a,!1);"max"===a&&"min"===a||this._setKeepValueFlag(!0)})));this.dateBox=new d({"class":"calendar-inputs"},this.dateBoxContainer);this.dateBox.startup();this.timeTextBox=new b({"class":"calendar-inputs time-inputs"},this.timeTextBoxContainer);this.timeTextBox.startup();this._updateTimeModeValue();this.own(g(this.dateBox,"change",h.hitch(this,
function(){this._setKeepValueFlag(!0)})));this.own(g(this.timeTextBox,"change",h.hitch(this,function(){this._setKeepValueFlag(!0)})));this.operatorSelector=new c({options:this._operatorOptions,"class":"calendar-operator"},this.operatorContainer);this.unit=new c({options:a.intervalUnitOptions,"class":"calendar-inputs"},this.unitContainer);this.own(g(this.operatorSelector,"change",h.hitch(this,function(){this._setKeepValueFlag(!0)})));this.own(g(this.numberSpinner,"change",h.hitch(this,function(){this._setKeepValueFlag(!0)})));
this.own(g(this.unit,"change",h.hitch(this,function(){this._setKeepValueFlag(!0)})));this.maxminDateBox=new d({readonly:"readonly","class":"calendar-inputs",disabled:!0},this.maxminDateBoxContainer);this.maxminDateBox.startup();this.maxminTimeTextBox=new b({readonly:"readonly","class":"calendar-inputs",disabled:!0},this.maxminTimeTextBoxContainer);this.maxminTimeTextBox.startup();this.inherited(arguments)},startup:function(){"min"!==this.mode&&"max"!==this.mode||this.toggleTimeMode(this.mode,!1);
this.inherited(arguments);this.emit("haveloaded")},toggleTimeMode:function(a,b){f.addClass(this.calenderMode,"hide");f.addClass(this.timeMode,"hide");f.addClass(this.maxminMode,"hide");var c=!1;!0===b&&(c=!0);this.modeOptions.set("value",a,c);"time"===a?(f.removeClass(this.timeMode,"hide"),this._getKeepValueFlag()||this._updateTimeModeValue()):"max"===a||"min"===a?(f.removeClass(this.maxminMode,"hide"),this._getMaxOrMinTime()):f.removeClass(this.calenderMode,"hide")},_getMaxOrMinTime:function(){var a=
this.parent.getLayersTimeExtent();a&&this.setMaxMinTime(a)},setMaxMinTime:function(a){var b;"min"===this.mode?b=a.timeExtent.startTime:"max"===this.mode&&(b=a.timeExtent.endTime);this.maxminDateBox.set("value",new Date(b),!1);this.maxminTimeTextBox.set("value",new Date(b),!1)},isValid:function(){return"time"===this.modeOptions.getValue()?this.dateBox.isValid()&&this.timeTextBox.isValid():"max"===this.modeOptions.getValue()||"min"===this.modeOptions.getValue()?this.maxminDateBox.isValid()&&this.maxminTimeTextBox.isValid():
this.operatorSelector.isValid()&&this.numberSpinner.isValid()&&this.unit.isValid()},setConfig:function(a){if(this._getKeepValueFlag())a.time&&(this.maxminDateBox.set("value",new Date(a.time),!1),this.maxminTimeTextBox.set("value",new Date(a.time),!1));else if(a.keepValueFlag&&(this._KEEP_VALUE_FLAG=a.keepValueFlag),a.timeMode&&this.toggleTimeMode(a.timeMode,!1),a.time&&(this.dateBox.set("value",new Date(a.time),!1),this.timeTextBox.set("value",new Date(a.time),!1),this.maxminDateBox.set("value",new Date(a.time),
!1),this.maxminTimeTextBox.set("value",new Date(a.time),!1)),a.calender){if("undefined"===typeof a.calender.operator||""===a.calender.operator)a.calender.operator="+";this.operatorSelector.set("value",a.calender.operator,!1);this.numberSpinner.set("value",a.calender.number,!1);this.unit.set("value",a.calender.unit,!1)}},getConfig:function(){var a,b,c={operator:"",number:"",unit:""};"time"===this.modeOptions.getValue()?(a=this.dateBox.getValue(),b=this.timeTextBox.getValue(),a=a&&b?new Date(a.getFullYear(),
a.getMonth(),a.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()):null):"max"===this.modeOptions.getValue()||"min"===this.modeOptions.getValue()?(a=this.maxminDateBox.getValue(),b=this.maxminTimeTextBox.getValue(),a=a&&b?new Date(a.getFullYear(),a.getMonth(),a.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()):null):c={operator:this.operatorSelector.getValue(),number:this.numberSpinner.getValue(),unit:this.unit.getValue()};return{keepValueFlag:this._getKeepValueFlag(),timeMode:this.modeOptions.getValue(),
time:a,calender:c}},_updateTimeModeValue:function(){this.dateBox.set("value",new Date,!1);this.timeTextBox.set("value",new Date,!1)},_setKeepValueFlag:function(a){this._KEEP_VALUE_FLAG=a;this.emit("change")},_getKeepValueFlag:function(){return!!this._KEEP_VALUE_FLAG}})})},"dijit/form/TimeTextBox":function(){define("dojo/_base/declare dojo/keys dojo/query dojo/_base/lang ../_TimePicker ./_DateTimeTextBox".split(" "),function(m,n,h,f,l,k){return m("dijit.form.TimeTextBox",k,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",
popupClass:l,_selector:"time",value:new Date(""),maxHeight:-1,openDropDown:function(k){this.inherited(arguments);var g=h(".dijitTimePickerItemSelected",this.dropDown.domNode),e=this.dropDown.domNode.parentNode;e.scrollTop=g[0]?g[0].offsetTop-(e.clientHeight-g[0].clientHeight)/2:(e.scrollHeight-e.clientHeight)/2;this.dropDown.on("input",f.hitch(this,function(){this.set("value",this.dropDown.get("value"),!1)}))},_onInput:function(){this.inherited(arguments);var f=this.get("displayedValue");this.filterString=
f&&!this.parse(f,this.constraints)?f.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()}})})},"dijit/_TimePicker":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/sniff dojo/query dojo/mouse dojo/on ./_WidgetBase ./form/_ListMouseMixin".split(" "),function(m,n,h,f,l,k,p,g,e,a,d,b,c,q,t,u){return l("dijit._TimePicker",[t,u],{baseClass:"dijitTimePicker",
pickerMin:"T00:00:00",pickerMax:"T23:59:59",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:f.toISOString,buildRendering:function(){this.inherited(arguments);this.timeMenu=this.containerNode=this.domNode},setValue:function(a){g.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_setValueAttr:function(a){this._set("value",
a);this._showText()},_setFilterStringAttr:function(a){this._set("filterString",a);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(a,b,c,d){a=this.ownerDocument.createDocumentFragment();for(b=0;b<this._maxIncrement;b++)(c=this._createOption(b))&&a.appendChild(c);return a},_showText:function(){var a=f.fromISOString;this.domNode.innerHTML="";this._clickableIncrementDate=a(this.clickableIncrement);this._visibleIncrementDate=a(this.visibleIncrement);var b=function(a){return 3600*
a.getHours()+60*a.getMinutes()+a.getSeconds()},c=b(this._clickableIncrementDate),b=b(this._visibleIncrementDate);(this.value||this.currentFocus).getTime();this._refDate=a(this.pickerMin);this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._visibleIncrement=b/c;a=a(this.pickerMax);a.setFullYear(1970,0,1);a=.001*(a.getTime()-this._refDate.getTime());this._maxIncrement=Math.ceil((a+1)/c);c=this._getFilteredNodes();!c.firstChild&&this.filterString?(this.filterString="",this._showText()):
this.domNode.appendChild(c)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(a){for(var b in{clickableIncrement:1,visibleIncrement:1,pickerMin:1,pickerMax:1})b in a&&(this[b]=a[b]);a.locale||(a.locale=this.lang)},_createOption:function(a){var b=new Date(this._refDate),c=this._clickableIncrementDate;b.setHours(b.getHours()+c.getHours()*a,b.getMinutes()+c.getMinutes()*a,b.getSeconds()+
c.getSeconds()*a);"time"==this.constraints.selector&&b.setFullYear(1970,0,1);var d=h.format(b,this.constraints);if(this.filterString&&0!==d.toLowerCase().indexOf(this.filterString))return null;c=this.ownerDocument.createElement("div");c.className=this.baseClass+"Item";c.date=b;c.idx=a;p.create("div",{"class":this.baseClass+"ItemInner",innerHTML:d},c);d=1>a%this._visibleIncrement&&-1<a%this._visibleIncrement;a=!d&&!(a%this._clickableIncrement);d?c.className+=" "+this.baseClass+"Marker":a&&(c.className+=
" "+this.baseClass+"Tick");this.isDisabledDate(b)&&(c.className+=" "+this.baseClass+"ItemDisabled");this.value&&!n.compare(this.value,b,this.constraints.selector)&&(c.selected=!0,c.className+=" "+this.baseClass+"ItemSelected",this._selectedDiv=c,d?c.className+=" "+this.baseClass+"MarkerSelected":a&&(c.className+=" "+this.baseClass+"TickSelected"),this._highlightOption(c,!0));return c},onOpen:function(){this.inherited(arguments);this.set("selected",this._selectedDiv)},_onOptionSelected:function(a,
b){(a=a.target.date||a.target.parentNode.date)&&!this.isDisabledDate(a)&&(this._set("value",a),this.emit("input"),b&&(this._highlighted_option=null,this.set("value",a),this.onChange(a)))},onChange:function(){},_highlightOption:function(a,b){if(a){if(b)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=a;else{if(this._highlighted_option!==a)return;this._highlighted_option=null}k.toggle(a,this.baseClass+"ItemHover",b);k.contains(a,this.baseClass+"Marker")?
k.toggle(a,this.baseClass+"MarkerHover",b):k.toggle(a,this.baseClass+"TickHover",b)}},handleKey:function(a){if(a.keyCode==e.DOWN_ARROW)return this.selectNextNode(),this._onOptionSelected({target:this._highlighted_option},!1),a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==e.UP_ARROW)return this.selectPreviousNode(),this._onOptionSelected({target:this._highlighted_option},!1),a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==e.ENTER||a.keyCode===e.TAB){if(!this._keyboardSelected&&a.keyCode===
e.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option},!0);return a.keyCode===e.TAB}},onHover:function(a){this._highlightOption(a,!0)},onUnhover:function(a){this._highlightOption(a,!1)},onSelect:function(a){this._highlightOption(a,!0)},onDeselect:function(a){this._highlightOption(a,!1)},onClick:function(a){this._onOptionSelected({target:a},!0)}})})},"widgets/TimeSlider/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css",
"dojo/i18n!./nls/strings"],function(){})},"url:widgets/TimeSlider/setting/ConfigureTimeSettings.html":'\x3cdiv class\x3d"config-time-setting"\x3e\r\n\t\x3cdiv class\x3d"clearFix items"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"layersConfigContainer"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clearFix items"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"timeConfigContainer"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/TimeSlider/setting/LayersConfig.html":'\x3cdiv class\x3d"layout"\x3e\r\n  \x3cdiv class\x3d"title"\x3e${nls.layerTimeExtent}\x3c/div\x3e\r\n  \x3cdiv class\x3d"layers-table-container"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"layersContainer" class\x3d"rows-container"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/setting/TimeConfig.html":'\x3cdiv class\x3d"time-config-container" data-dojo-attach-point\x3d"timeConfigContainer"\x3e\r\n  \x3cdiv class\x3d"title"\x3e${nls.timeSpan}\x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"error-info"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"errorIcon" class\x3d"error-icon"\x3e\x3c/div\x3e\r\n    \x3cdiv\x3e${nls.calenderError}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"time-span"\x3e\r\n    \x3cdiv class\x3d"time-items items"\x3e\r\n      \x3cdiv class\x3d"time-tips"\x3e${nls.startTime}\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"startTimeCalendar"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"time-items items"\x3e\r\n      \x3cdiv class\x3d"time-tips"\x3e${nls.endTime}\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"endTimeCalendar"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"title"\x3e${nls.timeDisplay}\x3c/div\x3e\r\n  \x3cdiv class\x3d"time-display"\x3e\r\n    \x3cdiv class\x3d"time-tips"\x3e${nls.interval}\x3c/div\x3e\r\n    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"0"  required\x3d"true"\r\n      data-dojo-attach-point\x3d"intervalNumber" data-dojo-props\x3d"smallDelta:1,intermediateChanges:true,constraints: {min:0, places:0},trim:true"\r\n      class\x3d"time-selector calender-number calendar-inputs customdate "\x3e\r\n\r\n    \x3cdiv class\x3d"time-tips"\x3e${nls.unit}\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"intervalUnits"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"clearFix items"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"displayAllTheData" class\x3d"display-all"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/setting/TimeCalendar.html":'\x3cdiv class\x3d"time-calendar-container"\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"modeSelector" class\x3d"mode-selector"\x3e\x3c/div\x3e\r\n\r\n    \x3cspan data-dojo-attach-point\x3d"timeMode" class\x3d"hide"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"dateBoxContainer" class\x3d"time-selector time-date"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"timeTextBoxContainer" class\x3d"time-selector time-text"\x3e\x3c/div\x3e\r\n    \x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"calenderMode" class\x3d"hide"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"operatorContainer" class\x3d"time-selector"\x3e\x3c/div\x3e\r\n      \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"0"\r\n         data-dojo-attach-point\x3d"numberSpinner" data-dojo-props\x3d"smallDelta:1,intermediateChanges:true,constraints: {min:0, places:0}"\r\n         class\x3d"time-selector calender-number calendar-inputs"\x3e\r\n      \x3cdiv class\x3d"time-unit"\x3e${nls.unit}\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"unitContainer" class\x3d"calender-unit"\x3e\x3c/div\x3e\r\n    \x3c/span\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"maxminMode"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"maxminDateBoxContainer" class\x3d"time-selector time-date"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"maxminTimeTextBoxContainer" class\x3d"time-selector time-text"\x3e\x3c/div\x3e\r\n    \x3c/span\x3e\r\n\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/setting/Setting.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"title"\x3e${nls.timeSetting}\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clearFix items"\x3e\r\n\t\t\x3cdiv class\x3d"config-radio-container"\x3e\r\n\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"webMapSettingRaido" data-dojo-type\x3d"dijit/form/RadioButton" type\x3d"radio" class\x3d"jimu-radio-btn blue-radio"\r\n\t\t\t\t name\x3d"modeRaido" id\x3d"webMapSettingRaido" /\x3e\r\n\t\t\t\t\x3clabel data-dojo-attach-point\x3d"webMapSettingLabel" for\x3d"webMapSettingRaido"\x3e${nls.useWebMapSetting}\x3c/label\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"config-radio-container"\x3e\r\n\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"configureSettingRaido" data-dojo-type\x3d"dijit/form/RadioButton" type\x3d"radio" class\x3d"jimu-radio-btn blue-radio"\r\n\t\t\t\t name\x3d"modeRaido" id\x3d"configureSettingRaido" /\x3e\r\n\t\t\t\t\x3clabel data-dojo-attach-point\x3d"configureSettingLabel" for\x3d"configureSettingRaido"\x3e${nls.useConfigureSetting}\x3c/label\x3e\r\n\t\t\t\x3c/div\x3e\r\n\r\n\t\t\t\x3cdiv class\x3d"time-setting-btn" data-dojo-attach-point\x3d"timeSettingBtn"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"time-setting-icon" title\x3d"${nls.timeSettingBtn}"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clearFix items hide"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"configureTimeSettingsContainer"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\r\n\r\n\t\x3cdiv class\x3d"title"\x3e${nls.sliderSetting}\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clearFix items"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"autoPlay"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clearFix items"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"loopPlay"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clearFix items"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"showLabelsBox"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\r\n\t\x3cdiv class\x3d"clearFix items date-time-format tips"\x3e${nls.dateAndTimeFormat}\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clearFix selector"\x3e\r\n\t\t\x3cdiv class\x3d"time-formats jimu-float-leading"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"timeFormat"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"customDateContainer" class\x3d"time-formats customdate-container jimu-float-leading hide"\x3e\r\n\t\t\t\x3cinput class\x3d"customdate jimu-input jimu-float-trailing" data-dojo-attach-point\x3d"customDateFormat" data-dojo-attach-event\x3d"blur:_onCustomDateFormatBlur"\r\n\t\t\t required\x3d"true" data-dojo-type\x3d"dijit/form/ValidationTextBox" /\x3e\r\n\r\n\t\t\t\x3ca class\x3d"help-icon" data-dojo-attach-point\x3d"helpIcon" href\x3d"http://momentjs.com/docs/#/displaying/format/" title\x3d"${nls.formatInstruction}"\r\n\t\t\t target\x3d"_blank"\x3e\x3c/a\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\r\n\r\n\t\x3cdiv data-dojo-attach-point\x3d"autoRefreshContainer" class\x3d"hide"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/TimeSlider/setting/css/style.css":'.jimu-widget-timeslider-setting {font-family: \'Avenir Light\'; font-size: 12px; color: #000000;}.jimu-widget-timeslider-setting .clearFix {*overflow: hidden; *zoom: 1;}.jimu-widget-timeslider-setting .clearFix:after {display: table; content: ""; width: 0; clear: both;}.jimu-widget-timeslider-setting .dijitFocusedLabel{outline: none;}.jimu-widget-timeslider-setting .dijitSelect:not(.dijitDisabled),.timeslider-widget-setting-popup .dijitSelect:not(.dijitDisabled),.timeslider-widget-setting-popup .dijitComboBox:not(.dijitDisabled) .dijitButtonNode{border-color: #cfcfcf; background-color: #fff;}.jimu-widget-timeslider-setting .dijitSelectFocused .dijitButtonContents,.timeslider-widget-setting-popup .dijitSelectFocused .dijitButtonContents{border-color: #cfcfcf;} .jimu-widget-timeslider-setting .dijitSelectHover .dijitButtonContents,.timeslider-widget-setting-popup .dijitSelectHover .dijitButtonContents {border-color:#b5bcc7;}.jimu-widget-timeslider-setting .dijitSelect .dijitArrowButton,.timeslider-widget-setting-popup .dijitSelect .dijitArrowButton{background-color: #fff; background-image: none;}.jimu-widget-timeslider-setting .hide,.timeslider-widget-setting-popup .hide{display: none !important;}.jimu-widget-timeslider-setting .title {font-family: "Avenir Medium"; font-size: 14px; margin-top: 30px; letter-spacing: 0.39px;}.jimu-widget-timeslider-setting .items{margin-top: 18px; margin-left: 8px;}.jimu-widget-timeslider-setting .date-time-format{margin-top: 20px;}.jimu-widget-timeslider-setting .date-time-format.tips{font-family: \'Avenir Medium\'; font-size: 12px; color: #000000; margin-bottom: 8px;}.jimu-widget-timeslider-setting .selector{margin-left: 8px; margin-bottom: 30px;}.jimu-widget-timeslider-setting .time-formats{margin-top: 8px;}.jimu-widget-timeslider-setting .time-formats .dijitSelect{width:220px; height:36px;}.jimu-widget-timeslider-setting .customdate-container{position: relative;}.jimu-widget-timeslider-setting .customdate-container .dijitTextBox {width:260px; height:36px; margin: 0 20px;}.jimu-widget-timeslider-setting .customdate-container .help-icon{height: 16px; width: 16px; background: url("images/help.svg") no-repeat; background-position: 50% 50%; cursor: pointer; position: absolute; right: 35px; top: 11px;}.jimu-rtl .jimu-widget-timeslider-setting .customdate-container .help-icon{left: 35px; right: auto;}.jimu-widget-timeslider-setting .jimu-rtl .help-icon{right: auto; left: 32px;}.jimu-widget-timeslider-setting .auto-refresh-container{margin-top: 30px;}.jimu-widget-timeslider-setting .auto-refresh-container .time-items {margin-left: 20px; margin-right: 0px;}.jimu-rtl .jimu-widget-timeslider-setting .auto-refresh-container .time-items {margin-left: 0px; margin-right: 20px;}.jimu-widget-timeslider-setting .auto-refresh-container .interval-tips{margin: 10px 0 5px 0;}.jimu-widget-timeslider-setting .auto-refresh-container .interval-number{width: 80px;}.jimu-widget-timeslider-setting .auto-refresh-container .interval-units{width: 85px; margin: 0 5px;}.config-radio-container{display: flex; align-items: center; font-size: 14px; margin-top: 20px;}.jimu-widget-timeslider-setting .dijitRadio,.jimu-widget-timeslider-setting .dijitRadioIcon{background-image: url(images/radiobutton.svg); background-repeat: no-repeat; background-position: center center; width: 16px; height: 16px; margin: 0 2px 2px 0; padding: 0;}.jimu-widget-timeslider-setting .dijitRadioChecked{background-image: url(images/radiobutton_selected.svg);}.jimu-widget-timeslider-setting .time-setting-btn{width: 24px; height: 24px; margin: 0 10px; border-radius: 2px; display: flex; justify-content: center; align-items: center; cursor: pointer; border: 1px solid #CCCCCC;}.jimu-widget-timeslider-setting .time-setting-btn.disabled {background: #EEEEEE; cursor: default;}.jimu-widget-timeslider-setting .time-setting-icon{height: 25px; width: 25px; background: url(images/timesetting.svg) no-repeat center;}.disabled .time-setting-icon{background: url(images/timesetting_disabled.svg) no-repeat center;}.timeslider-widget-setting-popup{font-family: "Avenir Light"; color: #000000; letter-spacing: 0.33px;}.timeslider-widget-setting-popup .config-time-setting{font-size: 12px;}.timeslider-widget-setting-popup .title{font-family: "Avenir Heavy"; font-size: 14px; color: #000000; letter-spacing: 0.39px;}.timeslider-widget-setting-popup .layers-table-container {width: 100%; border-top: 1px solid #EEE; height: 170px !important; max-height: 170px; overflow: hidden;}.timeslider-widget-setting-popup .rows-container{height: 100%;}.timeslider-widget-setting-popup .layers-table-container .row {width: 100%; justify-content: center; border-bottom: 1px solid #EEE; height: 50px;}.timeslider-widget-setting-popup .layers-table-container .layer-name {justify-content: center; margin-top: 10px;}.timeslider-widget-setting-popup .layers-table-container .time-info {padding: 0 1.5rem; color: #999;}.timeslider-widget-setting-popup .time-config-container{margin-top: 25px; font-size: 12px;}.timeslider-widget-setting-popup .time-config-container .error-info{color: red; display: none;}.timeslider-widget-setting-popup .time-config-container.error .error-info{display: flex; align-items: center; margin-bottom: -10px;}.timeslider-widget-setting-popup .time-config-container .error-icon{height: 25px; width: 25px; background: url(images/warning.svg) no-repeat center;}.timeslider-widget-setting-popup .time-config-container .items{margin-top: 15px;}.timeslider-widget-setting-popup .time-config-container .time-tips{margin: 5px;}.timeslider-widget-setting-popup .time-config-container .calendar-inputs{min-width: 100px; max-width: 160px; margin: 0 5px;}.timeslider-widget-setting-popup .time-config-container .calendar-inputs.time-inputs{min-width: 140px;}.timeslider-widget-setting-popup .time-config-container .calendar-operator{font-size: 14px; width: 60px;}.timeslider-widget-setting-popup .time-config-container .time-unit{display: inline-block; max-width: 150px; overflow: hidden; vertical-align: middle;}.timeslider-widget-setting-popup .time-config-container .time-span{margin-bottom: 30px;}.timeslider-widget-setting-popup .time-config-container .time-display{display: flex; align-items: center; margin-top: 10px;}.timeslider-widget-setting-popup .time-config-container .display-all{margin: 0 5px;}',
"*now":function(m){m(['dojo/i18n!*preload*widgets/TimeSlider/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/on dojo/_base/lang dojo/_base/html dojo/keys dojo/Deferred jimu/utils ./ConfigureTimeSettings jimu/dijit/Popup jimu/dijit/CheckBox dijit/form/Select dijit/form/ValidationTextBox".split(" "),function(m,n,h,f,l,k,p,g,e,a,d,b,c){return m([n,h],{baseClass:"jimu-widget-timeslider-setting",configureTimeSettings:null,postCreate:function(){this._timeFormatOptions=[{label:this.nls.mapDefault,value:"auto"},{label:"July 2015",
value:"MMMM YYYY"},{label:"Jul 2015",value:"MMM YYYY"},{label:"July 21,2015",value:"MMMM D,YYYY"},{label:"Tue Jul 21,2015",value:"ddd MMM DD,YYYY"},{label:"7/21/2015",value:"M/DD/YYYY"},{label:"2015/7/21",value:"YYYY/M/DD"},{label:"7/21/15",value:"M/DD/YY"},{label:"2015",value:"YYYY"},{label:"7/21/2015 8:00 am",value:"M/DD/YYYY  h:mm a"},{label:"Tue Jul 21 8:00 am",value:"ddd MMM DD  h:mm a"},{label:this.nls.custom,value:"Custom"}];this.showLabelsBox=new b({label:this.nls.showLayerLabels,checked:!1},
this.showLabelsBox);this.showLabelsBox.startup();this.autoPlay=new b({label:this.nls.autoPlay,checked:!1},this.autoPlay);this.autoPlay.startup();this.loopPlay=new b({label:this.nls.loopPlay,checked:!1},this.loopPlay);this.loopPlay.startup();this.timeFormat=new c({options:this._timeFormatOptions},this.timeFormat);this.inherited(arguments)},startup:function(){this.config||(this.config={});this.customDateFormat.setAttribute("placeHolder","YYYY-MM-dd h:m:s Z");this.own(f(this.timeFormat,"click",l.hitch(this,
function(){"undefined"===typeof this._firstChange&&(this._firstChange=!1)})));this.own(f(this.timeFormat,"change",l.hitch(this,function(a){"undefined"===typeof this._firstChange?this._firstChange=!1:this._initOptionsUI(a)})));this.own(f(this.webMapSettingRaido,"change",l.hitch(this,function(){this._updateTimeSettingBtnUI()})));this.own(f(this.configureSettingRaido,"change",l.hitch(this,function(){this._updateTimeSettingBtnUI()})));this.setConfig(this.config);this.inherited(arguments)},_initOptionsUI:function(a,
b){"Custom"!==a?(k.addClass(this.customDateContainer,"hide"),this.customDateFormat.set("value","")):(k.removeClass(this.customDateContainer,"hide"),this.customDateFormat.set("value",b||""));this.own(f(this.timeSettingBtn,"click",l.hitch(this,function(){this.configureSettingRaido.checked&&this._createTimeConfigSetting().then(l.hitch(this,function(a){this.popup=new d({titleLabel:this.nls.timeSetting,autoHeight:!0,content:this.configureTimeSettings,container:"main-page",width:680,buttons:[{label:window.jimuNls.common.ok,
key:p.ENTER,disable:a,onClick:l.hitch(this,"_onPopupOk")},{label:window.jimuNls.common.cancel,classNames:["jimu-btn-vacation"],key:p.ESCAPE}],onClose:l.hitch(this,"_onPopupClose")});k.addClass(this.popup.domNode,"timeslider-widget-setting-popup")}))})))},_onPopupOk:function(){if(!1===this.configureTimeSettings.isValid())return!1;this.config=this.configureTimeSettings.getConfig(this.config);this.popup.close();this.popup=this.configureTimeSettings=null},_onPopupClose:function(){this.popup=this.configureTimeSettings=
null},setConfig:function(a){this.config=a;a.showLabels?this.showLabelsBox.setValue(!0):this.showLabelsBox.setValue(!1);!1===a.autoPlay?this.autoPlay.setValue(!1):this.autoPlay.setValue(!0);!1===a.loopPlay?this.loopPlay.setValue(!1):this.loopPlay.setValue(!0);if(a.timeFormat){this.timeFormat.setValue(a.timeFormat);var b;a.customDateFormat&&(b=a.customDateFormat);this._initOptionsUI(a.timeFormat,b)}else this.timeFormat.setValue("auto");"undefined"===typeof a.isHonorWebMap||!0===a.isHonorWebMap?(a.isHonorWebMap=
!0,this.webMapSettingRaido.setChecked(!0)):(a.isHonorWebMap=!1,this.configureSettingRaido.setChecked(!0));this._updateTimeSettingBtnUI()},getConfig:function(){if("Custom"===this.timeFormat.getValue()&&""===this.customDateFormat.get("value"))return this.customDateFormat.focus(),this.customDateFormat.set("state","Error"),!1;this.config.showLabels=this.showLabelsBox.getValue();this.config.autoPlay=this.autoPlay.getValue();this.config.loopPlay=this.loopPlay.getValue();this.config.timeFormat=this.timeFormat.getValue();
this.customDateFormat.get("value")?this.config.customDateFormat=this.customDateFormat.get("value"):this.config.customDateFormat="";this.config.isHonorWebMap=this.webMapSettingRaido.checked?!0:!1;this.configureTimeSettings||this._createTimeConfigSetting();this.configureTimeSettings&&this.configureTimeSettings.getConfig&&(this.config=this.configureTimeSettings.getConfig(this.config));return this.config},_onCustomDateFormatBlur:function(){this.customDateFormat.value=e.stripHTML(this.customDateFormat.value||
"")},_updateTimeSettingBtnUI:function(){this.webMapSettingRaido.checked&&k.addClass(this.timeSettingBtn,"disabled");this.configureSettingRaido.checked&&k.removeClass(this.timeSettingBtn,"disabled")},_createTimeConfigSetting:function(){var b=new g;this.configureTimeSettings=new a({nls:this.nls,map:this.map,config:this.config},this.configureTimeSettingsContainer);this.own(f(this.configureTimeSettings,"initedLayers",l.hitch(this,function(a){var c=!1;a&&a.isNoLayer&&(c=!0);b.resolve(c)})));this.configureTimeSettings.startup();
return b}})});